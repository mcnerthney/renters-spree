<script type="text/javascript">

	function overListItem() {
	    //if ( in == false ) {
	       in = true;
	    //}
	}
	function outListItem() {
		in = false;
	}
	
</script>


<% content_for :sidebar do %>
  <div data-hook="homepage_sidebar_navigation">
    <table>
	<tr>
	    <th><form accept-charset="UTF-8" method="get" style="margin:0;padding:0;display:inline">
			 <input name="s" type="hidden" value="newitem" />
					<button  type="submit" value="newitem" style="float:left;"  >
		Add Rental
		</button>
		</form>
		</th>
	  </tr>
	<% @items.each do |item| %>
	  <tr>
	     <td>
	      <div id="homepage_item_title" onmouseover="selectMapItem()"> 
	        <%= link_to item.title , "/rents/" + item.id.to_s, {"onmouseover" => "mInfowindow.open(mMap,mMarker);" } %>
	      </div>
	     </td>
	     </tr>

	     
	<% end %>
	</table>
 </div>
<% end %>
<div data-hook="homepage_map">
	<div id="map_canvas" style="height:600px" />
</div>


<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=geometry&sensor=true"></script>

 
<script>(function($){
 $(document).ready(function(){

	// do stuff when div is ready
	var latlng = new google.maps.LatLng( 45.60, -122.60 );
	var myOptions = {
	  zoom: 8,
	  center: latlng,
	  mapTypeId: google.maps.MapTypeId.ROADMAP
	};
	mMap = new google.maps.Map(document.getElementById("map_canvas"),
	    myOptions);

		var myLatlng = new google.maps.LatLng( 45.60, -122.60 );
		  var myOptions = {
		    zoom: 4,
		    center: myLatlng,
		    mapTypeId: google.maps.MapTypeId.ROADMAP,
		  }



		var contentString = '<div id="content">'+
		    '<div id="siteNotice">'+
		    '</div>'+
		    '<h1 id="firstHeading" class="firstHeading">Uluru</h1>'+
		    '<div id="bodyContent">'+
		    '<p><b>Uluru</b>, also referred to as <b>Ayers Rock</b>, is a large ' +
		    'sandstone rock formation in the southern part of the '+
		    'Northern Territory, central Australia. It lies 335 km (208 mi) '+
		    'south west of the nearest large town, Alice Springs; 450 km '+
		    '(280 mi) by road. Kata Tjuta and Uluru are the two major '+
		    'features of the Uluru - Kata Tjuta National Park. Uluru is '+
		    'sacred to the Pitjantjatjara and Yankunytjatjara, the '+
		    'Aboriginal people of the area. It has many springs, waterholes, '+
		    'rock caves and ancient paintings. Uluru is listed as a World '+
		    'Heritage Site.</p>'+
		    '<p>Attribution: Uluru, <a href="http://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
		    'http://en.wikipedia.org/w/index.php?title=Uluru</a> (last visited June 22, 2009).</p>'+
		    '</div>'+
		    '</div>';

		var infowindow = new google.maps.InfoWindow({
		    content: contentString
		});

		var marker = new google.maps.Marker({
		    position: myLatlng,
		    map: mMap,
		    title:"Uluru (Ayers Rock)"
		});
		
		// To add the marker to the map, call setMap();
		marker.setMap(mMap);	
		
		
		var myLatlng = new google.maps.LatLng( 45.58, -122.59 );
		var contentString = '<div id="content">'+
		    '<div id="siteNotice">'+
		    '</div>'+
		    '<h1 id="firstHeading" class="firstHeading">Uluru</h1>'+
		    '<div id="bodyContent">'+
		    '<p><b>Uluru</b>, also referred to as <b>Ayers Rock</b>, is a large ' +
		    'sandstone rock formation in the southern part of the '+
		    'Northern Territory, central Australia. It lies 335 km (208 mi) '+
		    'south west of the nearest large town, Alice Springs; 450 km '+
		    '(280 mi) by road. Kata Tjuta and Uluru are the two major '+
		    'features of the Uluru - Kata Tjuta National Park. Uluru is '+
		    'sacred to the Pitjantjatjara and Yankunytjatjara, the '+
		    'Aboriginal people of the area. It has many springs, waterholes, '+
		    'rock caves and ancient paintings. Uluru is listed as a World '+
		    'Heritage Site.</p>'+
		    '<p>Attribution: Uluru, <a href="http://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
		    'http://en.wikipedia.org/w/index.php?title=Uluru</a> (last visited June 22, 2009).</p>'+
		    '</div>'+
		    '</div>';

		mInfowindow = new google.maps.InfoWindow({
		    content: contentString
		});

		mMarker = new google.maps.Marker({
		    position: myLatlng,
		    map: mMap,
		    title:"Uluru (Ayers Rock)"
		});
		
		// To add the marker to the map, call setMap();
		mMarker.setMap(mMap);	
		
		
		

		google.maps.event.addListener(marker, 'click', function() {
		  mInfowindow.open(map,marker);
		});		
		
 });
})(jQuery);
</script>
</div>

